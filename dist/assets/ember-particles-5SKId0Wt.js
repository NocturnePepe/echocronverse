import{r as m,j as d,A as $,m as w}from"./index-BIsf6fP6.js";const L=({count:h=20,isActive:l=!0,variant:r="ambient",triggerMemoryReveal:M=!1,onMemoryTrigger:y,containerSize:a={width:100,height:100},className:E="",interactionRadius:f=100,mouseFollow:u=!1})=>{const[p,x]=m.useState([]),[g,v]=m.useState({x:0,y:0}),[c,P]=m.useState(!1),C={ember:{colors:["#f97316","#ea580c","#dc2626","#b91c1c"],glow:"rgba(249, 115, 22, 0.6)",shadow:"0 0 10px rgba(249, 115, 22, 0.4)"},cosmic:{colors:["#8b5cf6","#7c3aed","#6366f1","#4f46e5"],glow:"rgba(139, 92, 246, 0.6)",shadow:"0 0 15px rgba(139, 92, 246, 0.5)"},mystical:{colors:["#06b6d4","#0891b2","#0e7490","#155e75"],glow:"rgba(6, 182, 212, 0.6)",shadow:"0 0 12px rgba(6, 182, 212, 0.4)"},shadow:{colors:["#4b5563","#374151","#1f2937","#111827"],glow:"rgba(75, 85, 99, 0.4)",shadow:"0 0 8px rgba(75, 85, 99, 0.3)"}},o={ambient:{particleCount:15,speed:{min:.5,max:2},size:{min:2,max:6},lifetime:{min:3e3,max:8e3},spawnRate:200},intense:{particleCount:40,speed:{min:1,max:4},size:{min:3,max:8},lifetime:{min:2e3,max:5e3},spawnRate:100},mystical:{particleCount:25,speed:{min:.3,max:1.5},size:{min:4,max:10},lifetime:{min:4e3,max:1e4},spawnRate:300},"memory-lock":{particleCount:30,speed:{min:.8,max:3},size:{min:5,max:12},lifetime:{min:3e3,max:7e3},spawnRate:150}}[r],j=()=>`particle-${Date.now()}-${Math.random()}`,b=(e,s)=>{const n=["ember","cosmic","mystical","shadow"],i=e!==void 0?e:Math.random()*a.width,t=s!==void 0?s:Math.random()*a.height;return{id:j(),x:i+(Math.random()-.5)*50,y:t+(Math.random()-.5)*50,size:o.size.min+Math.random()*(o.size.max-o.size.min),color:r==="mystical"?"mystical":r==="memory-lock"?"cosmic":n[Math.floor(Math.random()*n.length)],lifetime:o.lifetime.min+Math.random()*(o.lifetime.max-o.lifetime.min),speed:o.speed.min+Math.random()*(o.speed.max-o.speed.min),direction:Math.random()*Math.PI*2,opacity:.7+Math.random()*.3}};m.useEffect(()=>{if(!l){x([]);return}const e=Array.from({length:Math.min(h,o.particleCount)},()=>b());x(e)},[l,h,r,a.width,a.height]),m.useEffect(()=>{if(!l)return;const e=setInterval(()=>{x(s=>{const n=Date.now();let i=s.map(t=>({...t,x:t.x+Math.cos(t.direction)*t.speed,y:t.y+Math.sin(t.direction)*t.speed,opacity:Math.max(0,t.opacity-.01)})).filter(t=>n-parseInt(t.id.split("-")[1])<t.lifetime&&t.x>-50&&t.x<a.width+50&&t.y>-50&&t.y<a.height+50&&t.opacity>.1);for(;i.length<Math.min(h,o.particleCount);)i.push(b());return i})},50);return()=>clearInterval(e)},[l,h,o,a.width,a.height]),m.useEffect(()=>{if(!u)return;const e=s=>{var i;const n=(i=s.currentTarget)==null?void 0:i.getBoundingClientRect();n&&v({x:s.clientX-n.left,y:s.clientY-n.top})};return document.addEventListener("mousemove",e),()=>document.removeEventListener("mousemove",e)},[u]),m.useEffect(()=>{if(M){P(!0);const e=Array.from({length:20},()=>b(a.width/2,a.height/2));x(s=>[...s,...e]),y&&setTimeout(y,1e3),setTimeout(()=>P(!1),2e3)}},[M,y,a.width,a.height]);const I=m.useMemo(()=>u?p.map(e=>{const s=g.x-e.x,n=g.y-e.y,i=Math.sqrt(s*s+n*n);if(i<f){const t=(f-i)/f;return{...e,x:e.x+s*t*.1,y:e.y+n*t*.1,size:e.size*(1+t*.5),opacity:Math.min(1,e.opacity+t*.3)}}return e}):p,[p,g,u,f]);return l?d.jsxs("div",{className:`absolute inset-0 pointer-events-none overflow-hidden ${E}`,children:[d.jsx($,{children:I.map(e=>{const s=C[e.color];return d.jsx(w.div,{className:"absolute rounded-full",style:{left:e.x,top:e.y,width:e.size,height:e.size,background:`radial-gradient(circle, ${s.colors[0]}, ${s.colors[1]})`,boxShadow:c?`${s.shadow}, 0 0 20px ${s.glow}`:s.shadow,opacity:e.opacity},initial:{scale:0,opacity:0,filter:"brightness(2)"},animate:{scale:c?[1,2,1]:1,opacity:e.opacity,filter:c?"brightness(3)":"brightness(1)",rotate:r==="mystical"?[0,360]:0},exit:{scale:0,opacity:0,transition:{duration:.5}},transition:{scale:{duration:c?1:.3},rotate:{duration:10,repeat:1/0,ease:"linear"},filter:{duration:.5}}},e.id)})}),r==="memory-lock"&&c&&d.jsx(w.div,{className:"absolute inset-0 bg-gradient-radial from-purple-500/20 via-transparent to-transparent",initial:{opacity:0,scale:0},animate:{opacity:[0,.8,0],scale:[0,2,0]},transition:{duration:2,ease:"easeOut"}}),r==="mystical"&&c&&d.jsx(w.div,{className:"absolute inset-0 flex items-center justify-center text-6xl text-cyan-400 opacity-30 select-none",style:{fontFamily:"monospace"},initial:{opacity:0,rotate:0,scale:0},animate:{opacity:[0,.6,0],rotate:[0,180,360],scale:[0,1.5,0]},transition:{duration:3,ease:"easeInOut"},children:"‚üê"})]}):null};export{L as E};
